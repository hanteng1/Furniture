<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>test app</title>
		<link rel="stylesheet" type="text/css" href="js/semantic/dist/semantic.min.css">
		<link rel="stylesheet" href="style.css">
	</head>
	<body>

		
		<!-- <div id="blocker">
			<div id="instructions">
				<span style="font-size:40px">
					Instructions: blablabalbalabla...
				</span>
			</div>
		</div>
		 -->

		<div id="minfo">Description</div>


		<!--category selection-->



		<div id="mmenu">

			<!--dropdown menu to add object-->
			<div class="ui dropdown">
				<div class="text">File</div>
				<i class="dropdown icon"></i>
				<div class="menu">
					<div class="item" data-value="f_1">New</div>
					<div class="item" data-value="f_2">
						<span class="description">ctrl + o</span>
						Open...
					</div>
					<div class="item" data-value="f_3">
						<span class="description">ctrl + s</span>
						Save as...
					</div>
				</div>
			</div>

			<h4 class="ui horizontal divider header">
				Furnitures
			</h4>

			<!--cards to add object card-->
			<div class="ui cards" id="cards">
			</div>


			<h4 class="ui horizontal divider header">
				Actions
			</h4>
			<!--a button-->

			<div class="ui toggle checkbox house" style="margin-bottom: 1.5em">
  				<input type="checkbox" name="public">
  				<label>Test in House Environment</label>
			</div>

			<div class="ui blue submit button reset" style="margin-bottom: 0.5em">Reset</div>
			<div class="ui blue submit button duplicate" style="margin-bottom: 0.5em">Duplicate</div>
			<div class="ui blue submit button newdesign" style="margin-bottom: 0.5em">Create New Design</div>
			<div class="ui blue submit button getsize" style="margin-bottom: 0.5em">GetSize</div>
			<div class="ui blue submit button getdis" style="margin-bottom: 0.5em">GetDistance</div>
			<div class="ui red submit button removesize" style="margin-bottom: 0.5em">RemoveSize</div>

			<!--Available Designs-->
			<h4 class="ui horizontal divider header">
				Suggested Designs
			</h4>

			<div class="ui segment">
				<div class="ui inverted segment" style="background:none">

					<div class="operations operation_chair_align">
						<h3 class="ui header">Align</h3>
						<button class="ui inverted secondary button" id="operation_chair_align_vertical">
								<i class="gamepad icon"></i>
	    						Vertical
						</button>

						<button class="ui inverted secondary button" id="operation_chair_align_horizontal">
								<i class="gamepad icon"></i>
	    						Horizontal
						</button>

						<button class="ui inverted secondary button" id="operation_chair_align_flip">
								<i class="gamepad icon"></i>
	    						Flip
						</button>
					</div>

					<div class="operations operation_chair_add">
	 					<h3 class="ui header">Add</h3>
	 					<button class="ui inverted secondary button" id="operation_chair_add_plate">
								<i class="gamepad icon"></i>
	    						Plate
						</button>

						<button class="ui inverted secondary button" id="operation_chair_add_hook">
								<i class="gamepad icon"></i>
	    						Hook
						</button>

						<button class="ui inverted secondary button" id="operation_chair_add_hang">
								<i class="gamepad icon"></i>
	    						Hang
						</button>
 					</div>

 					<div class="operations operation_chair_rebuild">
	 					<h3 class="ui header">Rebuild</h3>
	 					<button class="ui inverted secondary button" id="operation_chair_rebuild_seat">
								<i class="gamepad icon"></i>
	    						Seat
						</button>

						<button class="ui inverted secondary button" id="operation_chair_rebuild_back">
								<i class="gamepad icon"></i>
	    						BackRest
						</button>

						<button class="ui inverted secondary button" id="operation_chair_rebuild_leg">
								<i class="gamepad icon"></i>
	    						Leg
						</button>
 					</div>


 					<div class="operations operation_dresser_add">
	 					<h3 class="ui header">Dresser</h3>
	 					<button class="ui inverted secondary button" id="operation_dresser_add_cut_chair">
								<i class="gamepad icon"></i>
	    						Cut To Chair
	    				</button>
	    				<button class="ui inverted secondary button" id="operation_dresser_add_door">
								<i class="gamepad icon"></i>
	    						Add Door
	    				</button>
	    				<button class="ui inverted secondary button" id="operation_dresser_add_leg">
								<i class="gamepad icon"></i>
	    						Add Leg
	    				</button>
	    				<button class="ui inverted secondary button" id="operation_dresser_add_rod">
								<i class="gamepad icon"></i>
	    						Add Rod
	    				</button>
	    				<button class="ui inverted secondary button" id="operation_dresser_add_spice_rack">
								<i class="gamepad icon"></i>
	    						Add Spice Rack
	    				</button>
	    				<button class="ui inverted secondary button" id="operation_dresser_add_drawer">
								<i class="gamepad icon"></i>
	    						Add Drawer
	    				</button>
	    				<button class="ui inverted secondary button" id="operation_dresser_remove_drawers">
								<i class="gamepad icon"></i>
	    						Remove Drawers
	    				</button>
	    			</div>

 					<div class="operations operation_cabinet_kallax_one">
	 					<h3 class="ui header">Kallax</h3>
	 					<button class="ui inverted secondary button" id="operation_cabinet_kallax_chair">
								<i class="gamepad icon"></i>
	    						Chair
						</button>

 					</div>
 					<div class="operations operation_cabinet_kallax_two">
	 					<h3 class="ui header">Kallax</h3>

						<button class="ui inverted secondary button" id="operation_cabinet_kallax_bed">
								<i class="gamepad icon"></i>
	    						Bed
						</button>

						<button class="ui inverted secondary button" id="operation_cabinet_kallax_table">
								<i class="gamepad icon"></i>
	    						Table

						</button>
 					</div>

 					<div class="operations operation_table">
						<h3 class="ui header">Table</h3>
						<button class="ui inverted secondary button" id="operation_table_stack">
								<i class="gamepad icon"></i>
	    						Stack
						</button>
						<button class="ui inverted secondary button" id="operation_table_flipStack">
								<i class="gamepad icon"></i>
	    						FlipStack
						</button>
						<button class="ui inverted secondary button" id="operation_table_addWheel">
								<i class="gamepad icon"></i>
	    						AddWheel
						</button>
						<button class="ui inverted secondary button" id="operation_table_addBoardOnTabletop">
								<i class="gamepad icon"></i>
	    						AddBoardOnTabletop
						</button>
						<button class="ui inverted secondary button" id="operation_table_addBoard">
								<i class="gamepad icon"></i>
	    						AddBoard
						</button>
						<button class="ui inverted secondary button" id="operation_table_addDrawer">
								<i class="gamepad icon"></i>
	    						AddDrawer
						</button>	
						<button class="ui inverted secondary button" id="operation_table_addRod">
								<i class="gamepad icon"></i>
	    						AddRod
						</button>
						<button class="ui inverted secondary button" id="operation_table_addSeat">
								<i class="gamepad icon"></i>
	    						AddSeat
						</button>						
						<button class="ui inverted secondary button" id="operation_table_addDoorBoard">
								<i class="gamepad icon"></i>
	    						AddDoorBoard
						</button>
					</div>
					
				</div>
			</div>


			<!--dfdfdf-->


		</div> <!--side menu-->


		<!--for group and ungroup operation-->
		<div class="ui compact vertical labeled icon menu" id="label">
			<a class="item m_group">
				<i class="object group icon"></i>
				Group
			</a>
			<a class="item">
				<i class="object ungroup icon"></i>
				Ungroup
			</a>
			<a class="item">
				<i class="edit icon"></i>
				<div class="ui floating dropdown icon button">
					<span class="text">Label</span>
					<div class="menu">
						<div class="scrolling menu">
							<div class="item" data-value="l_1">
								<div class="ui red empty circular label"></div>
								Back
							</div>
							<div class="item" data-value="l_2">
								<div class="ui blue empty circular label"></div>
								Seat
							</div>
							<div class="item" data-value="l_3">
								<div class="ui black empty circular label"></div>
								MidFrame
							</div>
							<div class="item" data-value="l_4">
								<div class="ui purple empty circular label"></div>
								Stand
							</div>
							<div class="item" data-value="l_5">
								<div class="ui orange empty circular label"></div>
								...
							</div> 
							<div class="item" data-value="l_6">
								<div class="ui orange empty circular label"></div>
								cabinetTop

							</div> 
							<div class="item" data-value="l_7">
								<div class="ui orange empty circular label"></div>
								cabinetFront
							</div>
							<div class="item" data-value="l_8">
								<div class="ui orange empty circular label"></div>
								cabinetBroad
							</div>
							<div class="item" data-value="l_9">
								<div class="ui orange empty circular label"></div>
								tabletop
							</div>
							<div class="item" data-value="l_10">
								<div class="ui orange empty circular label"></div>
								tableLeg
							</div>

						</div>
					</div>
				</div>
			</a>
		</div>



		<!--for design parameters -->

		<!--chair align-->
		<div class="ui compact parameters" id="parameter_control_chair_align">
			<div class="ui segment" id="CHAIR_ALIGN">
				<table class="ui definition table">
					<tbody>
						<tr>
							<td>Length</td>
							<td>
								<div class="range-slider" id="CHAIR_ALIGN">
									<input class="range-slider__range" id="DISTANCE" type="range" value="5" min="5" max="10">
									<span class="range-slider__value">5</span>
								</div>
							</td>
						</tr>
						<tr>
							<td>Angle</td>
							<td>
								<div class="range-slider" id="CHAIR_ALIGN">
									<input class="range-slider__range" id="ANGLE" type="range" value="0" min="0" max="30">
									<span class="range-slider__value">0</span>
								</div>
							</td>
						</tr>
					</tbody>
				</table>

			</div>
		</div>

		<!--chair rebuild-->
		<div class="ui compact parameters" id="parameter_control_chair_rebuild">
			<div class="ui labeled icon menu" id = "CHAIR_REBUILD">
			 
				<a class="item ui image label 1">
					<img src="/images/material/material1.jpg">
				</a>
				<a class="item ui image label 2">
					<img src="/images/material/material2.jpg">
				</a>
				<a class="item ui image label 3">
				  	<img src="/images/material/material3.jpg">
				</a>
				<a class="item ui image label 4">
				  	<img src="/images/material/material4.jpg">
				</a>
				<a class="item">
					<i class="align justify icon 1"></i>
				</a>

			</div>
		</div>

		<div class="ui compact parameters" id="parameter_control_chair_add">
			<div class="ui segment" id="CHAIR_ADD">
				<table class="ui definition table">
					<tbody>
						<tr>
							<td>Position</td>
							<td>
								<div class="range-slider" id="CHAIR_ADD">
									<input class="range-slider__range" id="CHAIR_ADD_POSITION" type="range" 
									value="0" min="-10" max="10">
									<span class="range-slider__value">0</span>
								</div>
							</td>							
						</tr>
						<tr>
							<td>Width</td>
							<td>
								<div class="range-slider" id="CHAIR_ADD">
									<input class="range-slider__range" id="CHAIR_ADD_WIDTH" type="range" 
									value="0" min="0" max="20">
									<span class="range-slider__value">0</span>
								</div>
							</td>							
						</tr>
						<tr>
							<td>Height</td>
							<td>
								<div class="range-slider" id="CHAIR_ADD">
									<input class="range-slider__range" id="CHAIR_ADD_HEIGHT" type="range" 
									value="0" min="0" max="5">
									<span class="range-slider__value">0</span>
								</div>
							</td>							
						</tr>
					</tbody>
				</table>
			</div>
			
		</div>

		<!--end of for design parameters -->


		<!--model input size initialization-->
		<div class="ui compact modelsize" id="model_size_initialization">
			<div class="ui segment">
				<div class="ui form">
  					<div class="inline fields">
    					<label>Size</label>
    					<div class="field">
      						<input type="text" placeholder="Length">
    					</div>
    					<div class="field">
      						<input type="text" placeholder="Width">
    					</div>
    					<div class="field">
      						<input type="text" placeholder="Height">
    					</div>
  					</div>
				</div>

				<button class="fluid ui button" type="submit">Confirm</button>


			</div>
		</div>



		<!--end of model input size initialization-->




		<!-- Weihsiang's Block, for seat texture change-->
		<div class="ui compact parameters" id="parameter_control_cabinet_bed">
			<div class="ui labeled icon menu" id = "Kallax_Bed">
			 
				<a class="item ui image label twin_bed">
					<img src="/images/material/bed/twin_bed.png">
				</a>
				<a class="item ui image label queen_bed">
					<img src="/images/material/bed/queen_bed.png">
				</a>

			</div>
		</div>

		<!-- End of Weihsiang's Block-->

		<div id="container"></div>

		<!-- design viewer -->
    	<!-- <div oncontextmenu="return false;" id="viewerContext"></div> --> <!-- avoiding popup when right mouse is clicked -->

    	<!--here I test some update-->
    	

		
		<script
	  		src="https://code.jquery.com/jquery-3.1.1.min.js"
	  		integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
	  		crossorigin="anonymous"></script>
	  	<script src="js/semantic/dist/semantic.min.js"></script>
		<script src="three.js-master/build/three.js"></script>
		<script type="text/javascript" src="three.js-master/examples/js/Detector.js"></script>
		<script type="text/javascript" src="three.js-master/examples/js/libs/stats.min.js"></script>
		<script type="text/javascript" src="three.js-master/examples/js/CurveExtras.js"></script>
		<script type="text/javascript" src="three.js-master/examples/js/ParametricGeometries.js"></script>
		<script type="text/javascript" src="three.js-master/examples/js/loaders/OBJLoader.js"></script>
		<script type="text/javascript" src="three.js-master/examples/js/loaders/STLLoader.js"></script>
		<script type="text/javascript" src="three.js-master/examples/js/loaders/ColladaLoader.js"></script>
		<script type="text/javascript" src="three.js-master/examples/js/loaders/GLTFLoader.js"></script>
		<script type="text/javascript" src="three.js-master/examples/js/utils/SceneUtils.js"></script>
		<script type="text/javascript" src="js/CustomControls.js"></script>
		<script type="text/javascript" src="js/Ui.js"></script>
		<script type="text/javascript" src="js/Furniture.js"></script>
		<script type="text/javascript" src="js/AddAxis.js"></script>
		<script type="text/javascript" src="js/TransformControls.js"></script>
		<script type="text/javascript" src="js/mesh_simplify.js"></script>


		<!--test-->
		<script type="text/javascript" src="js/testtest.js"></script>

		<!--
		<script type="x-shader/x-vertex" id="vertexShader">
			attribute vec3 center;
			varying vec3 vCenter;
			void main() {
				vCenter = center;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}
		</script>

		<script type="x-shader/x-fragment" id="fragmentShader">
			varying vec3 vCenter;
			float edgeFactorTri() {
				vec3 d = fwidth( vCenter.xyz );
				vec3 a3 = smoothstep( vec3( 0.0 ), d * 1.5, vCenter.xyz );
				return min( min( a3.x, a3.y ), a3.z );
			}
			void main() {
				gl_FragColor.rgb = mix( vec3( 1.0 ), vec3( 0.2 ), edgeFactorTri() );
				gl_FragColor.a = 1.0;
			}
		</script>
		-->


		<script type="x-shader/x-vertex" id="vertexShader">
			varying vec3 vWorldPosition;
			void main() {
				vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
				vWorldPosition = worldPosition.xyz;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}
		</script>

		<script type="x-shader/x-fragment" id="fragmentShader">
			uniform vec3 topColor;
			uniform vec3 bottomColor;
			uniform float offset;
			uniform float exponent;
			varying vec3 vWorldPosition;
			void main() {
				float h = normalize( vWorldPosition + offset ).y;
				gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h, 0.0 ), exponent ), 0.0 ) ), 1.0 );
			}
		</script>

		<script type="text/javascript" src="js/bundle.js"></script>
		<!--<script type="text/javascript" src="js/Main.js"></script>-->

	</body>
</html>