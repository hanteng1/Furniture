<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>Upcycle-Chic</title>
		<link rel="stylesheet" type="text/css" href="js/semantic/dist/semantic.min.css">
		<link rel="stylesheet" href="style.css">
	</head>
	<body>

		
		<div id="blocker">
			<!-- <div id="instructions">
				<span style="font-size:40px">
					Instructions: blablabalbalabla...
				</span>
			</div> -->			
		</div>
		
		<!--category selection-->
		<div id="initial_category_window">
			<div class="ui inverted segment" style="background:none">
				<button class="ui inverted secondary button" id="category_chair">
						<!-- <i class="gamepad icon"></i> -->
						CHAIR
				</button>

				<button class="ui inverted secondary button" id="category_cabinet">
						<!-- <i class="gamepad icon"></i> -->
						CABINET
				</button>

				<button class="ui inverted secondary button" id="category_table">
						<!-- <i class="gamepad icon"></i> -->
						TABLE
				</button>

				<!-- <button class="ui inverted secondary button" id="category_bed">
						<i class="gamepad icon"></i>
						BED
				</button> -->

				<button class="ui inverted secondary button" id="category_desk">
						<!-- <i class="gamepad icon"></i> -->
						DESK
				</button>

				<button class="ui inverted secondary button" id="category_dresser">
						<!-- <i class="gamepad icon"></i> -->
						DRESSER
				</button>
				
			</div>

		</div>



		<div id="minfo">Description</div>


		<div id="mmenu">

			<!--dropdown menu to add object-->
			<div class="ui dropdown">
				<div class="text">File</div>
				<i class="dropdown icon"></i>
				<div class="menu">
					<div class="item" data-value="f_1">New</div>
					<div class="item" data-value="f_2">
						<span class="description">ctrl + o</span>
						Open...
					</div>
					<!-- <div class="item" data-value="f_3">
						<span class="description">ctrl + s</span>
						Save as...
					</div> -->
				</div>
			</div>

			<h4 class="ui horizontal divider header">
				Furnitures
			</h4>

			<!--cards to add object card-->
			<div class="ui cards" id="cards">
			</div>


			<h4 class="ui horizontal divider header">
				Actions
			</h4>
			<!--a button-->

			<div class="ui toggle checkbox house" style="margin-bottom: 1.5em">
  				<input type="checkbox" name="public">
  				<label>Test in House Environment</label>
			</div>

			<div class="ui blue submit button reset" style="margin-bottom: 0.5em">Reset</div>
			<div class="ui blue submit button duplicate" style="margin-bottom: 0.5em">Duplicate</div>
			<div class="ui blue submit button newdesign" style="margin-bottom: 0.5em">Suggestive Design</div>
			<div class="ui blue submit button customdesign" style="margin-bottom: 0.5em">Customized Design</div>

			<div class="ui blue submit button getsize" style="margin-bottom: 0.5em">GetSize</div>
			<div class="ui blue submit button getdis" style="margin-bottom: 0.5em">GetDistance</div>
			<div class="ui red submit button removesize" style="margin-bottom: 0.5em">RemoveSize</div>

			<!--Available Designs-->
			<h4 class="ui horizontal divider header">
				Design Operations
			</h4>

			<div class="ui segment">
				<div class="ui inverted segment" style="background:none">

					<div class="operations operation_chair_align">
						<h3 class="ui header">Align</h3>
						<button class="ui inverted secondary button" id="operation_chair_align_vertical">
								<img src="images\material\UI\align1.png" >
								<br>
	    						Vertical
						</button>

						<button class="ui inverted secondary button" id="operation_chair_align_horizontal">
								<img src="images\material\UI\align2.png" >
								<br>
	    						Horizontal
						</button>

						<button class="ui inverted secondary button" id="operation_chair_align_flip">
								<img src="images\material\UI\align3.png" >
								<br>
	    						Flip
						</button>


						<button class="ui inverted secondary button" id="operation_chair_align_connect_1">
								<i class="gamepad icon"></i>
	    						Connect-1
						</button>

						<button class="ui inverted secondary button" id="operation_chair_align_connect_2">
								<i class="gamepad icon"></i>
	    						Connect-2
						</button>

					</div>

					<div class="operations operation_chair_add">
	 					<h3 class="ui header">Add</h3>
	 					<button class="ui inverted secondary button" id="operation_chair_add_plate">
								<i class="gamepad icon"></i>
	    						Plate
						</button>

						<button class="ui inverted secondary button" id="operation_chair_add_hook">
								<img src="images\material\UI\hook.png">
								<br>
	    						Hook
						</button>

						<button class="ui inverted secondary button" id="operation_chair_add_hang">
								<i class="gamepad icon"></i>
	    						Hang
						</button>
 					</div>

 					<div class="operations operation_chair_rebuild">
	 					<h3 class="ui header">Rebuild</h3>
	 					<button class="ui inverted secondary button" id="operation_chair_rebuild_seat">
								<img src="images\material\UI\seat.png">
								<br>
	    						Seat
						</button>

						<button class="ui inverted secondary button" id="operation_chair_rebuild_back">
								<img src="images\material\UI\backrest.png">
								<br>
	    						BackRest
						</button>

						<button class="ui inverted secondary button" id="operation_chair_rebuild_leg">
								<img src="images\material\UI\leg.png">
								<br>
	    						Leg
						</button>
 					</div>


 					<div class="operations operation_dresser_add">
	 					<h3 class="ui header">Dresser</h3>
	 					<button class="ui inverted secondary button" id="operation_dresser_add_cut_chair">
								<i class="gamepad icon"></i>
	    						Cut Chair
	    				</button>
	    				<button class="ui inverted secondary button" id="operation_dresser_add_add_door">
								<img src="images\material\UI\adddoor.png">
								<br>
	    						Add Door
	    				</button>
	    				<button class="ui inverted secondary button" id="operation_dresser_add_add_leg">
								<i class="gamepad icon"></i>
	    						Add Leg
	    				</button>
	    				<button class="ui inverted secondary button" id="operation_dresser_add_add_rod">
								<img src="images\material\UI\addrod.png">
								<br>
	    						Add Rod
	    				</button>
	    				<button class="ui inverted secondary button" id="operation_dresser_add_add_spice_rack">
								<img src="images\material\UI\addspicerack.png">
								<br>
	    						Add Spice Rack
	    				</button>
	    				<button class="ui inverted secondary button" id="operation_dresser_add_add_drawer">
								<img src="images\material\UI\drawer.png">
								<br>
	    						Add Drawer
	    				</button>
	    				<button class="ui inverted secondary button" id="operation_dresser_add_remove_drawers">
								<i class="gamepad icon"></i>
	    						Remove Drawers
	    				</button>
	    			</div>

	    			<div class="operations operation_dresser_add_two">
	 					<h3 class="ui header">Dresser</h3>
	 					<button class="ui inverted secondary button" id="operation_dresser_add_add_rod_two">
								<i class="gamepad icon"></i>
	    						Add Rod
	    				</button>
	 				</div>

 					<div class="operations operation_cabinet_kallax_one">
	 					<h3 class="ui header">Kallax</h3>
	 					<button class="ui inverted secondary button" id="operation_cabinet_kallax_chair">
								<img src="images\material\UI\chair.png">
								<br>
	    						Chair
						</button>

 					</div>

 					<div class="operations operation_cabinet_kallax_two">
	 					<h3 class="ui header">Kallax</h3>

						<button class="ui inverted secondary button" id="operation_cabinet_kallax_bed">
								<img src="images\material\UI\bed.png">
								<br>
	    						Bed
						</button>

						<button class="ui inverted secondary button" id="operation_cabinet_kallax_table">
								<img src="images\material\UI\table.png">
								<br>
	    						Table

						</button>
 					</div>


 					<div class="operations operation_table">

						<h3 class="ui header">Table</h3>
						<button class="ui inverted secondary button" id="operation_table_addWheel">
								<img src="images\material\UI\wheel.png">
								<br>
	    						AddWheel
						</button>
						<button class="ui inverted secondary button" id="operation_table_addBoardOnTabletop">
								<i class="gamepad icon"></i>
	    						AddBoardOnTabletop
						</button>
						<button class="ui inverted secondary button" id="operation_table_addBoard">
								<img src="images\material\UI\broad.png">
								<br>
	    						AddBoard
						</button>
						<button class="ui inverted secondary button" id="operation_table_addDrawer">
								<img src="images\material\UI\drawer.png">
								<br>
	    						AddDrawer
						</button>	
						<button class="ui inverted secondary button" id="operation_table_addRod">
								<i class="gamepad icon"></i>
	    						AddRod
						</button>
						<button class="ui inverted secondary button" id="operation_table_addSeat">
								<img src="images\material\UI\chair.png">
								<br>
	    						AddSeat
						</button>						
						<button class="ui inverted secondary button" id="operation_table_addDoorBoard">
								<i class="gamepad icon"></i>
	    						AddDoorBoard
						</button>
					</div>

					<div class="operations operation_table_two">
						<h3 class="ui header">Table</h3>
						<button class="ui inverted secondary button" id="operation_table_stack">
								<i class="gamepad icon"></i>
	    						Stack
						</button>
						<button class="ui inverted secondary button" id="operation_table_flipStack">
								<i class="gamepad icon"></i>
	    						FlipStack
						</button>
					</div>

					<div class="operations operation_desk">
	 					<h3 class="ui header">Desk</h3>
						<button class="ui inverted secondary button" id="operation_desk_add_beside_board">
								<i class="gamepad icon"></i>
	    						Add Beside Board
						</button>
						<button class="ui inverted secondary button" id="operation_desk_add_top_board">
								<i class="gamepad icon"></i>
	    						Add Top Board
						</button>
						<button class="ui inverted secondary button" id="operation_desk_add_bottom_board">
								<i class="gamepad icon"></i>
	    						Add Bottom Board
						</button>
						<button class="ui inverted secondary button" id="operation_desk_add_inside_board">
								<i class="gamepad icon"></i>
	    						Add Inside Board
						</button>
						<button class="ui inverted secondary button" id="operation_desk_add_wheel">
								<img src="images\material\UI\wheel.png">
								<br>
	    						Add Wheel
						</button>
 					</div>
					

 					<div class="operations operation_tool">

	 					<h3 class="ui header">Tool</h3>

						<button class="ui inverted secondary button" id="operation_Painting">
								<i class="gamepad icon"></i>
	    						Painting
						</button>
						<button class="ui inverted secondary button" id="operation_Wrap">
								<i class="gamepad icon"></i>
	    						Wrap
						</button>
						<button class="ui inverted secondary button" id="operation_Rotation">
								<i class="gamepad icon"></i>
	    						Rotation
						</button>
						<button class="ui inverted secondary button" id="operation_Align">
								<i class="gamepad icon"></i>
	    						Align
						</button>

						<button class="ui inverted secondary button" id="operation_Add">
								<i class="gamepad icon"></i>
	    						Add
						</button>

						<button class="ui inverted secondary button" id="operation_AddBetween">
								<i class="gamepad icon"></i>
	    						AddBetween
						</button>


						<button class="ui inverted secondary button" id="operation_Cut">
								<img src="images\material\UI\cut.png">
								<br>
	    						Cut
						</button>

 					</div>

				</div>
			</div>


			<!--dfdfdf-->


		</div> <!--side menu-->


		<!--for group and ungroup operation-->
		<div class="ui compact vertical labeled icon menu" id="label">
			<a class="item m_group">
				<i class="object group icon"></i>
				Group
			</a>
			<a class="item">
				<i class="object ungroup icon"></i>
				Ungroup
			</a>
			<a class="item m_delete">
				<i class="object delete icon"></i>
				Delete
			</a>
			<a class="item">
				<i class="edit icon"></i>
				<div class="ui floating dropdown icon button">
					<span class="text">Label</span>
					<div class="menu">
						<div class="scrolling menu">

							<!--chair-->

							<div class="item" data-value="l_1" id="label_l_1">
								<div class="ui red empty circular label"></div>
								Back
							</div>
							<div class="item" data-value="l_2" id="label_l_2">
								<div class="ui blue empty circular label"></div>
								Seat
							</div>
							<!-- <div class="item" data-value="l_3">
								<div class="ui black empty circular label"></div>
								MidFrame
							</div>
							<div class="item" data-value="l_4">
								<div class="ui purple empty circular label"></div>
								Stand
							</div>
							<div class="item" data-value="l_5">
								<div class="ui orange empty circular label"></div>
								...
							</div>  -->

							<!--cabinet -->
							<div class="item" data-value="l_6" id="label_l_6">
								<div class="ui orange empty circular label"></div>
								cabinetTop
							</div> 
							<div class="item" data-value="l_7" id="label_l_7">
								<div class="ui orange empty circular label"></div>
								cabinetFront
							</div>
							<!-- <div class="item" data-value="l_8" id="label_l_8">
								<div class="ui orange empty circular label"></div>
								cabinetBroad
							</div> -->


							<!--table-->
							<div class="item" data-value="l_9" id="label_l_9">
								<div class="ui orange empty circular label"></div>
								tableTop
							</div>

							<div class="item" data-value="l_10" id="label_l_10">
								<div class="ui orange empty circular label"></div>
								tableLeg
							</div>


							<!--desk-->
							<div class="item" data-value="l_11" id="label_l_11">
								<div class="ui orange empty circular label"></div>
								deskTop
							</div>


						</div>
					</div>
				</div>
			</a>
		</div>

		<!--for design parameters -->

		<!--chair align-->
		<div class="ui compact parameters" id="parameter_control_chair_align">
			<div class="ui segment" id="CHAIR_ALIGN">
				<table class="ui definition table">
					<tbody>
						<tr>
							<td>Length</td>
							<td>
								<div class="range-slider" id="CHAIR_ALIGN">
									<input class="range-slider__range" id="DISTANCE" type="range" value="5" min="5" max="10">
									<span class="range-slider__value">5</span>
								</div>
							</td>
						</tr>
						<tr>
							<td>Angle</td>
							<td>
								<div class="range-slider" id="CHAIR_ALIGN">
									<input class="range-slider__range" id="ANGLE" type="range" value="0" min="0" max="30">
									<span class="range-slider__value">0</span>
								</div>
							</td>
						</tr>
					</tbody>
				</table>

			</div>
		</div>

		<!--chair rebuild-->
		<div class="ui compact parameters" id="parameter_control_chair_rebuild">
			<div class="ui labeled icon menu" id = "CHAIR_REBUILD">
			 
				<a class="item ui image label 1">
					<img src="/images/material/wrap/wrap7.jpg">
				</a>
				<a class="item ui image label 2">
					<img src="/images/material/material2.jpg">
				</a>
				<a class="item ui image label 3">
				  	<img src="/images/material/wrap/wrap5.jpg">
				</a>
				<a class="item ui image label 4">
				  	<img src="/images/material/material5.jpg">
				</a>
				<a class="item ui image label 5">
				  	<img src="/images/material/wrap/wrap8.jpg">
				</a>
				<a class="item ui image label 6">
				  	<img src="/images/material/wrap/wrap11.jpg">
				</a>
				<a class="item ui image label 7">
				  	<img src="/images/material/wrap/wrap15.jpg">
				</a>
				<a class="item ui image label 8">
				  	<img src="/images/material/wrap/wrap13.jpg">
				</a>
				<a class="item ui image label 9">
				  	<img src="/images/material/wrap/wrap14.jpg">
				</a>
				<a class="item">
					<i class="align justify icon 1"></i>
				</a>

			</div>
		</div>

		<!--painting tool-->
		<div class="ui compact parameters" id="parameter_control_tool_painting">
			<div class="ui labeled icon menu" >
			 
				<a class="item ui image label paint1">
					<img src="/images/material/material1.jpg">
				</a>
				<a class="item ui image label paint2">
					<img src="/images/material/material2.jpg">
				</a>
				<a class="item ui image label paint3">
				  	<img src="/images/material/material3.jpg">
				</a>
				<a class="item ui image label paint4">
				  	<img src="/images/material/material4.jpg">
				</a>
				<a class="item ui image label paint5">
				  	<img src="/images/material/material5.jpg">
				</a>
				<a class="item ui image label paint7">
				  	<img src="/images/material/material7.jpg">
				</a>
				<a class="item ui image label paint9">
				  	<img src="/images/material/material9.jpg">
				</a>

			</div>
		</div>

		<!--wrap tool-->
		<div class="ui compact parameters" id="parameter_control_tool_wrap">
			<div class="ui labeled icon menu" >
			 
				<a class="item ui image label wrap1">
					<img src="/images/material/wrap/wrap1.jpg">
				</a>
				<a class="item ui image label wrap2">
					<img src="/images/material/wrap/wrap2.jpg">
				</a>
				<a class="item ui image label wrap3">
				  	<img src="/images/material/wrap/wrap3.jpg">
				</a>
				<a class="item ui image label wrap4">
				  	<img src="/images/material/wrap/wrap4.jpg">
				</a>
				<a class="item ui image label wrap5">
				  	<img src="/images/material/wrap/wrap5.jpg">
				</a>
				<a class="item ui image label wrap6">
				  	<img src="/images/material/wrap/wrap6.jpg">
				</a>
				<a class="item ui image label wrap7">
				  	<img src="/images/material/wrap/wrap7.jpg">
				</a>

			</div>
		</div>
		<!--wrap tool-->
		<div class="ui compact parameters" id="parameter_control_tool_rotation">
			<div class="ui labeled icon menu" >
			 
				<a class="item ui image label rota1">
					<img src="/images/material/rotation/newPITCH1.png">
				</a>
				<a class="item ui image label rota2">
					<img src="/images/material/rotation/newPITCH2.png">
				</a>
				<a class="item ui image label rota3">
				  	<img src="/images/material/rotation/newROLL1.png">
				</a>
				<a class="item ui image label rota4">
				  	<img src="/images/material/rotation/newROLL2.png">
				</a>
				<a class="item ui image label rota5">
				  	<img src="/images/material/rotation/newYAW1.png">
				</a>
				<a class="item ui image label rota6">
				  	<img src="/images/material/rotation/newYAW2.png">
				</a>

			</div>
		</div>
		<!--Align tool-->
		<div class="ui compact parameters" id="parameter_control_tool_align">
			<div class="ui labeled icon menu" >
			 
				<a class="item ui image label align1">
					<img src="/images/material/align/x.png">
				</a>
				<a class="item ui image label align2">
					<img src="/images/material/align/y.png">
				</a>
				<a class="item ui image label align3">
				  	<img src="/images/material/align/z.png">
				</a>

			</div>
		</div>

		<!--Addbetween tool-->
		<div class="ui compact parameters" id="parameter_control_tool_addbetween">
			<div class="ui labeled icon menu" >
			 
				<a class="item ui image label addbetween rod">
					<img src="/images/material/addbetween/rod.jpg">
					
					<div class="ui input" id="AddRodInput">
						<button class="ui button InputRod minus">
						  <i class="minus icon"></i>
						</button>
						<input type="text" placeholder="2.0" id="InputRodRadius">
						<button class="ui button InputRod plus">
						  <i class="plus icon"></i>
						</button>
					</div>
				</a>

			</div>
		</div>



		<!--cut tool-->
		<div class="ui compact parameters" id="parameter_control_tool_cut">
			<div class="ui labeled icon menu" >
			 
				<a class="item ui image label cut">
					Cut
				</a>

			</div>
		</div>
		
		<!--Add tool-->
		<div class="ui compact parameters" id="parameter_control_tool_add">
			<div class="ui labeled icon menu" >
			 
				<a class="item ui image label add vertical board">
					<img src="/images/material/madel_add/vertical_board.png">
				</a>
				<a class="item ui image label add horizontal board">
					<img src="/images/material/madel_add/horizontal_board.png">
				</a>
				<a class="item ui image label add rod">
					<img src="/images/material/madel_add/rod.png">
				</a>
				<a class="item ui image label add leg">
				  	<img src="/images/material/madel_add/leg.png">
				</a>
				<a class="item ui image label add wheel">
				  	<img src="/images/material/madel_add/wheel.png">
				</a>
				<a class="item ui image label add hook">
				  	<img src="/images/material/madel_add/hook.png">
				</a>
				<a class="item ui image label add door">
				  	<img src="/images/material/madel_add/door.png">
				</a>

			</div>
		</div>

		<div class="ui compact parameters" id="parameter_control_chair_add">
			<div class="ui segment" id="CHAIR_ADD">
				<table class="ui definition table">
					<tbody>
						<tr>
							<td>Position</td>
							<td>
								<div class="range-slider" id="CHAIR_ADD">
									<input class="range-slider__range" id="CHAIR_ADD_POSITION" type="range" 
									value="0" min="-10" max="10">
									<span class="range-slider__value">0</span>
								</div>
							</td>							
						</tr>
						<tr>
							<td>Width</td>
							<td>
								<div class="range-slider" id="CHAIR_ADD">
									<input class="range-slider__range" id="CHAIR_ADD_WIDTH" type="range" 
									value="0" min="0" max="20">
									<span class="range-slider__value">0</span>
								</div>
							</td>							
						</tr>
						<tr>
							<td>Height</td>
							<td>
								<div class="range-slider" id="CHAIR_ADD">
									<input class="range-slider__range" id="CHAIR_ADD_HEIGHT" type="range" 
									value="0" min="0" max="5">
									<span class="range-slider__value">0</span>
								</div>
							</td>							
						</tr>
					</tbody>
				</table>
			</div>
			
		</div>

		<!--end of for design parameters -->


		<!--model input size initialization-->
		<div class="ui compact modelsize" id="model_size_initialization">
			<div class="ui segment">
				<div class="ui form">
  					<div class="inline fields">
    					<label>Size</label>
    					<div class="field">
      						<input type="text" placeholder="Length">
    					</div>
    					<div class="field">
      						<input type="text" placeholder="Width">
    					</div>
    					<div class="field">
      						<input type="text" placeholder="Height">
    					</div>
  					</div>
				</div>

				<button class="fluid ui button" type="submit">Confirm</button>


			</div>
		</div>



		<!--end of model input size initialization-->


		<!-- Weihsiang's Block, for seat texture change-->
		<div class="ui compact parameters" id="parameter_control_cabinet_bed">
			<div class="ui labeled icon menu" id = "Kallax_Bed">
			 
				<a class="item ui image label twin_bed">
					<img src="images\material\UI\twin.png">
				</a>
				<a class="item ui image label queen_bed">
					<img src="images\material\UI\queen.png">
				</a>

			</div>
		</div>

		<!-- End of Weihsiang's Block-->

		<div id="container"></div>

		<div id="Procedure_List"></div>

		<!-- design viewer -->
    	<!-- <div oncontextmenu="return false;" id="viewerContext"></div> --> <!-- avoiding popup when right mouse is clicked -->

    	<!--here I test some update-->
    	

		
		<script
	  		src="https://code.jquery.com/jquery-3.1.1.min.js"
	  		integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
	  		crossorigin="anonymous"></script>
	  	<script src="js/semantic/dist/semantic.min.js"></script>
		<script src="three.js-master/build/three.js"></script>
		<script type="text/javascript" src="three.js-master/examples/js/Detector.js"></script>
		<script type="text/javascript" src="three.js-master/examples/js/libs/stats.min.js"></script>
		<script type="text/javascript" src="three.js-master/examples/js/CurveExtras.js"></script>
		<script type="text/javascript" src="three.js-master/examples/js/ParametricGeometries.js"></script>
		<script type="text/javascript" src="three.js-master/examples/js/loaders/OBJLoader.js"></script>
		<script type="text/javascript" src="three.js-master/examples/js/loaders/STLLoader.js"></script>
		<script type="text/javascript" src="three.js-master/examples/js/loaders/ColladaLoader.js"></script>
		<script type="text/javascript" src="three.js-master/examples/js/loaders/GLTFLoader.js"></script>
		<script type="text/javascript" src="three.js-master/examples/js/utils/SceneUtils.js"></script>
		<script type="text/javascript" src="js/CustomControls.js"></script>
		<script type="text/javascript" src="js/Ui.js"></script>
		<script type="text/javascript" src="js/Furniture.js"></script>
		<script type="text/javascript" src="js/AddAxis.js"></script>
		<script type="text/javascript" src="js/TransformControls.js"></script>
		<script type="text/javascript" src="js/mesh_simplify.js"></script>
		<script type="text/javascript" src="js/testtest.js"></script>

		<!--test-->
		

		<!--
		<script type="x-shader/x-vertex" id="vertexShader">
			attribute vec3 center;
			varying vec3 vCenter;
			void main() {
				vCenter = center;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}
		</script>

		<script type="x-shader/x-fragment" id="fragmentShader">
			varying vec3 vCenter;
			float edgeFactorTri() {
				vec3 d = fwidth( vCenter.xyz );
				vec3 a3 = smoothstep( vec3( 0.0 ), d * 1.5, vCenter.xyz );
				return min( min( a3.x, a3.y ), a3.z );
			}
			void main() {
				gl_FragColor.rgb = mix( vec3( 1.0 ), vec3( 0.2 ), edgeFactorTri() );
				gl_FragColor.a = 1.0;
			}
		</script>
		
		-->


		
		<script type="x-shader/x-vertex" id="vertexShader">
			varying vec3 vWorldPosition;
			void main() {
				vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
				vWorldPosition = worldPosition.xyz;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}
		</script>

		<script type="x-shader/x-fragment" id="fragmentShader">
			uniform vec3 topColor;
			uniform vec3 bottomColor;
			uniform float offset;
			uniform float exponent;
			varying vec3 vWorldPosition;
			void main() {
				float h = normalize( vWorldPosition + offset ).y;
				gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h, 0.0 ), exponent ), 0.0 ) ), 1.0 );
			}
		</script>
		

		<script type="text/javascript" src="js/bundle.js"></script>
		<!--<script type="text/javascript" src="js/Main.js"></script>-->

	</body>
</html>